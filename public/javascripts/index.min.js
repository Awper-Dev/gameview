function submitAddress(){fetch("/actions/addserver",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:document.querySelector("#ip").value,port:document.querySelector("#port").value})}).then(async e=>Swal.fire({position:"top-end",type:e.ok?"success":"error",text:await e.text(),showConfirmButton:!1,timer:3e3,background:"#2a2c2e"})),setTimeout(()=>updateServers(!1),4e3)}function updateServers(e=!0){const t=document.querySelector("#server-table"),n=document.querySelector("#server-container");if(!n)return;const o=Date.now();Swal.fire({toast:!0,title:"Pulling Data",background:"#2a2c2e",position:"top-end",showConfirmButton:!1,onBeforeOpen:Swal.showLoading,type:"info"}),fetch("/actions/getservers",{method:"GET"}).then(async e=>{clearTable(t);const r=await e.json();r.sort((e,t)=>e.online-t.online),r.forEach(e=>{t.appendChild(renderRow(e)),n.appendChild(t)}),setTimeout(Swal.close,o-1e3<Date.now()?1e3:0)}),e&&setTimeout(updateServers,3e5)}function renderRow(e){const t=document.createElement("tr");return renderTableData(4,e).forEach(e=>t.appendChild(e)),t}function renderTableData(e,t){const n=[];for(let t=0;t<e;t++)n.push(document.createElement("td"));return n[0].appendChild(document.createTextNode(t.online?"✓":"✗")),n[0].classList.add(t.online?"online":"offline"),n[1].appendChild(document.createTextNode(t.ip)),n[2].appendChild(document.createTextNode(t.ping)),n[3].appendChild(document.createTextNode(t.extra||`${t.players} Players`)),n}function clearTable(e){for(let t=1;t<e.rows.length;)e.deleteRow(t)}